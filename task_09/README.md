# Задание №9

## Сервер аутентификации

### Задача

Реализуйте микросервис для регистрации и аутентификации пользователей.

### Описание

Разработайте микросервис на FastAPI и SQLAlchemy asyncio для регистрации и аутентификации пользователей.
Добавьте в приложение следующие действия:

- регистрация;
- вход;
- выход;
- проверка токена.

#### Регистрация пользователя

Добавьте view для регистрации пользователя по логину и паролю.

#### Вход пользователя

Добавьте view для входа пользователя по логину и паролю.
Выпускайте постоянный токен.

#### Выход пользователя

Добавьте view для выхода пользователя по токену.
Избавляйтесь от токена любым удобным способом:
удаление из базы, или отдельная пометка о неактивности, и т.д. на ваше усмотрение.

#### Проверка токена

Реализуйте token introspect view для проверки валидности токена.
У токена должен быть срок жизни.
Если токен не найден,
или у токена истёк срок жизни (срок устанавливается в настройках), то токен невалиден.

Если токен найден и валиден,
то необходимо вернуть информацию о токене (например, дату создания),
а также информацию о пользователе, выпустившим токен (например: айди, юзернейм).

### Дополнительно

Для миграций схем используйте [`alembic`](https://alembic.sqlalchemy.org/en/latest/).

Для использования асинхронной работы SQLAlchemy руководствуйтесь
документацией: https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html

В качестве каркаса приложения можете использовать любой удобный шаблон,
например [этот](https://github.com/mahenzon/FastAPI-base-app).
