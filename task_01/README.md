# Задание №1

## Декоратор retry

### Задача

Создайте декоратор `retry`, которым можно декорировать функцию для повторной попытки выполнения в случае ошибки.

### Описание

Создайте декоратор `retry`, добавьте в него следующие параметры:

- максимальное количество попыток - после какой попытки не пытаться снова;
- первоначальный таймаут - сколько прождать после первой попытки, если произошла ошибка;
- множитель таймаута - во сколько раз увеличить таймаут для ожидания перед следующей попыткой;
- перечисление исключений - набор исключений, которые надо ловить при вызове декорированной функции.

Воспользуйтесь заготовленным модулем [`weather_fetcher.py`](weather_fetcher.py),
или напишите свою имитацию запроса данных из внешнего сервиса.
Класс `CustomWeatherFetcher` предоставляет метод для запроса прогноза погоды.

Допишите недостающие модули для полноценной работы помощника `CustomWeatherFetcher`:

- объявите конфиг, с которым помощник будет сверять номер попытки и выкидывать исключение, если значение достигнуто;
- объявите базовое исключение для API запроса и создайте исключение, сигнализирующее о возникшей ошибке при API запросе.

Продемонстрируйте работу вашего декоратора:

- объявите функцию;
- декорируйте функцию вашим декоратором `retry`;
- внутри функции обратитесь методом `fetch_weather_or_raise_error` экземпляра класса `CustomWeatherFetcher`;
- в главной функции вызовите декорированную функцию;
- убедитесь, что декоратор отрабатывает правильно - предпринимает несколько попыток выполнить функцию без ошибок.

### Дополнительно

#### Универсальный функциональный декоратор

Реализуйте декоратор так, чтобы была возможность декорировать как с указанием скобок (вызов объекта),
например `@retry()` или `@retry(max_retry_count=3)`,
так и без указания скобок: `@retry` - в таком случае должны применяться значения по умолчанию.

#### Класс-декоратор

Создайте класс-декоратор `retry` как отдельную реализацию, независимую от декоратора, созданного в виде функции.

#### Логирование

Добавьте исчерпывающее логирование в ваше приложение.
