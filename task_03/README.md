# Задание №3

## Веб-приложение для получения курсов валют

### Задача

Разработайте асинхронное веб-приложение (микросервис)
для получения обменного курса переданной валюты к заранее указанным валютам.

Добавьте возможность указать дату в запросе.

Сохраняйте кэш на диск.

### Описание

#### Библиотеки

- Используйте `aiohttp` server для создания асинхронного веб-приложения.
- Используйте `aiohttp` client для выполнения асинхронных запросов в сеть.
- Используйте `aiofiles` для работы с файлами (чтение / запись) в асинхронном виде.

#### API

Воспользуйтесь любым удобным API для получения актуальных курсов валют.

Например, можно использовать
бесплатный инструмент [`fawazahmed0/exchange-api`](https://github.com/fawazahmed0/exchange-api).

Для получения списка доступных валют воспользуйтесь следующим
эндпоинтом: https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies.json

Для получения обменного курса по выбранной валюте за актуальную дату воспользуйтесь этим адресом:
`https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/{currency}.json`,
например [https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/eur.json](https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/eur.json).

Для указания даты замените `latest` на дату в формате [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601).
Шаблон: `https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@{date}/v1/currencies/{currency}.json`,
пример адреса для
запроса: [https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@2024-09-28/v1/currencies/rub.json](https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@2024-09-28/v1/currencies/rub.json)

#### Конфигурация

Укажите статичный набор целевых валют, обменный курс к которым необходимо вернуть.

#### Обертка для API запросов

Создайте обертку для выполнения API запросов:

- сетевые запросы выполняйте через aiohttp client;
- реализуйте верхнеуровневый метод для получения обменного курса выбранной валюты на указанную дату;
- добавьте метод для чтения данных из кэша - с диска;
- если уже существует закэшированное значение для выбранной валюты на указанную дату,
  возвращайте это значение и не выполняйте дополнительных запросов сеть;
- при обращении по API заготавливайте объект для ответа на основе полученных данных,
  создавайте кэш - сохраняйте значение на диске в заранее созданной папке.

#### Приложение

Создайте веб-приложение на aiohttp server:

- добавьте единственный обработчик для получения актуального обменного курса;
- поддержите запрос курса валют с указанием даты и без. Если дата не указана, берите сегодняшний день;
- запрашивайте данные через обертку для API запросов. Если данные уже есть в кэше,
  отправлять новый API запрос не требуется, а если данные запрошены в первый раз,
  то необходимо создать в кэше новую запись из полученных данных.

##### Обработка ошибок

- если передана неизвестная валюта, возвращайте статус 404;
- если передана невалидная дата, возвращайте статус 422.
